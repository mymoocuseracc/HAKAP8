["function _1866d5bb23e7c298054d23a4492eeb0e205e9fec",50,438947,".JsonP",245577,32,"JSONP\",singleton:true,requestCount:0,requests:{},timeout:30000",272158,47,"callbackKey:\"callback\",request:function(m){m=Ext.apply({},m);var i=this,d=Ext.isDefined(m.disableCaching)?m.disableCaching:i.disableCaching,g=m.disableCachingParam||i.disableCachingParam,c=++i.requestCount,k=m.callbackName||\"callback\"+c,h=m.callbackKey||i.callbackKey,l=Ext.isDefined(m.timeout)?m.timeout:i.timeout,e=Ext.apply({},m.params),b=m.url,a=Ext.isSandboxed?Ext.getUniqueGlobalNamespace():\"Ext\",f,j;e[h]=a+\".data.JsonP.\"+k;if(d){e[g]=new Date().getTime()}j=i.createScript(b,e,m);i.requests[c]=f={url:b,params:e,script:j,id:c,scope:m.scope,success:m.success,failure:m.failure,callback:m.callback,callbackKey:h,callbackName:k};if(l>0){f.timeout=setTimeout(Ext.bind(i.handleTimeout,i,[f]),l)}i.setupErrorHandling(f);i[k]=Ext.bind(i.handleResponse,i,[f],true);i.loadScript(f);return f},abort:function(b){var c=this.requests,a;if(b){if(!b.id){b=c[b]}this.handleAbort(b)}else{",463168,40,".abort(c[a])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType=\"abort\";this.handleResponse(null,a)},handleError:function(a){a.errorType=\"error\";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType=\"timeout\";this.handleResponse(null,a)},handleResponse:function(a,b){var c=true;if(b.timeout){clearTimeout(b.timeout)}delete this[b.callbackName];delete this.requests[b.id];this.cleanupErrorHandling(b);Ext.fly(b.script).destroy();if(b.errorType){c=false;Ext.callback(b.failure,b.scope,[b.errorType,b])}else{",276295,37,"}",276333,33,"c,a,b.errorType,b])},createScript:function(c,d,b){var a",48313,33,";a.setAttribute(\"src\",Ext.urlAppend(c,Ext.Object.toQueryString(d)));a.setAttribute(\"async\",true);a.setAttribute(\"type\",\"text/javascript\");return a},loadScript:function(a){Ext.getHead().appendChild(a.script",361471,32,"Rest\",{extend:Ext.data.proxy.Ajax,alternateClassName:\"Ext.data.RestProxy\",alias:\"proxy.rest\",config:{appendId:true,format:null,batchActions:false",393124,50,"UT\",destroy:\"DELETE\"}},buildUrl:function(f){var i=this,e=f.getOperation(),c=e.getRecords()||[],h=c[0],g=i.getModel(),k=g.getIdProperty(),j=i.getFormat(),a=i.getUrl(f),d=f.getParams()||{},b=(h&&!h.phantom)?h.getId():d[k];if(i.getAppendId()&&b){if(!a.match(/\\/$/)){a+=\"/\"}a+=b;delete d[k]}if(j){if(!a.match(/\\.$/)){a+=\".\"}a+=j}f.setUrl(a);return i.callParent([f])}",438974,73075,"navigation.Bar\",{extend:Ext.TitleBar",309619,120,"defaultType:\"button\",layout:{type:\"hbox\"},defaultBackButtonText:\"Back\",animation:{duration:300},useTitleForBackButtonText:null,view:null,android2Transforms:false,backButton:{align:\"left\",ui:\"back\",hidden:true}",514222,40,"animation:false}]",290687,36,"!a.items){a.items=[]}this.backButtonStack=[];this.activeAnimations=[];this.callParent([a])},applyBackButton",456000,38,"Button,this.getBackButton())},updateBackButton:function(a,b){if(b){this.remove(b)}if(a){this.add(a);a.on({scope:this,tap:this.onBackButtonTap})}},onBackButtonTap:function(){this.fireEvent(\"back\",this)},updateView:function(b){var d=this,j=d.getBackButton(),a,c,f,g,e,h;d.getItems();if(b){a=b.getInnerItems();for(c=0;c<a.length;c++){g=a[c];e=(g.getTitle)?g.getTitle():g.config.title;d.backButtonStack.push(e||\"&nbsp;\")}h=d.getTitleText();if(h===undefined){h=\"\"}d.setTitle(h);f=d.getBackButtonText();if(f){j.setText(f);j.show()}}},onViewAdd:function(c,e){var d=this,b=d.backButtonStack,a,f;d.endAnimation();f=(e.getTitle)?e.getTitle():e.config.title;b.push(f||\"&nbsp;\");a=b.length>1;d.doChangeView(c,a,false)},onViewRemove:function(c){var d=this,b=d.backButtonStack,a;d.endAnimation();b.pop();a=b.length>1;d.doChangeView(c,a,true)},doChangeView:function(k,c,g){var r=this,o=r.leftBox,e=o.element,f=r.titleComponent,m=f.element,n=r.getBackButton(),l=r.getTitleText(),h=r.getBackButtonText(),q=r.getAnimation()&&k.getLayout().getAnimation(),p=q&&q.isAnimation&&k.isPainted(),d,i,a,j,b;if(p){i=r.createProxy(o.element);e.setStyle(\"opacity\",\"0\");n.setText(h);n[c?\"show\":\"hide\"]();a=r.createProxy(f.element.getParent());m.setStyle(\"opacity\",\"0\");r.setTitle(l);d=r.measureView(i,a,g);j=d.left;b=d.title;r.isAnimating=true;r.animate(e,j.element);r.animate(m,b.element,function(){m.setLeft(d.titleLeft);r.isAnimating=false;r.refreshTitlePosition()}",313371,33,"&&!this.getAndroid2Transforms()){i.ghost.destroy();a.ghost.destroy()}else{r.animate(i.ghost,j.ghost);r.animate(a.ghost,b.ghost,function(){i.ghost.destroy();a.ghost.destroy()})}}else{if(c){n.setText(h);n.show()}else{n.hide()}r.setTitle(l)}},measureView:function(e,u,k){var w=this,j=w.element,v=w.leftBox.element,p=w.titleComponent.element,l=Math.min(j.getWidth()/3,200),q=v.getWidth(),c=j.getX(),m=j.getWidth(),n=p.getX(),d=p.getLeft(),s=p.getWidth(),r=e.x,t=e.width,a=e.left,h=Ext.browser.is.AndroidStock2&&!this.getAndroid2Transforms(),i,b,f,x,o,g;g=c-r-t;if(k){i=g;b=Math.min(n-t,l)}else{b=g;i=Math.min(n-c,l)}if(h){f={element:{from:{left:i,opacity:1},to:{left:0,opacity:1}}}}else{f={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:0},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}g=c-n+q;if((a+s)>n){o=c-n-s}if(k){p.setLeft(0);b=c+m-n-s;if(o!==undefined){i=o}else{i=g}}else{i=c+m-n-s;if(o!==undefined){b=o}else{b=g}i=Math.max(d,i)}if(h){x={element:{from:{left:i,opacity:1},to:{left:d,opacity:1}}}}else{x={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:d},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}return{left:f,title:x,titleLeft:d}},animate:function(b,a,e){var c=this,d;b.setLeft(0);a=Ext.apply(a,{element:b,easing:\"ease-in-out\",duration:c.getAnimation().duration||250,preserveEndState:true});d=new Ext.fx.Animation(a);d",529630,33,"e){e.call(c)}},c);Ext.Animator.run(d);c.activeAnimations.push(d)},endAnimation:function(){var a=this.activeAnimations,d,b,c;if(a){c=a.length;for(b=0;b<c;b++){d=a[b];if(d.isAnimating){d.stopAnimation()}else{d.destroy()}}this.activeAnimations=[]}",311692,37,"!this.isAnimating){this.callParent()}},getBackButtonText:function(){var b=this.backButtonStack[this.backButtonStack.length-2],a=this.getUseTitleForBackButtonText();if(!a){if(b){b=this.getDefaultBackButtonText()}}return b},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-1]},beforePop:function(b){b--;for(var a=0;a<b;a++){this.backButtonStack.pop()}},doSetHidden:function(a){if(!a){this.element.setStyle({position:\"relative\",top:\"auto\",left:\"auto\",width:\"auto\"})}else{this.element.setStyle({position:\"absolute\",top:\"-1000px\",left:\"-1000px\",width:this.element.getWidth()+\"px\"})}},createProxy:function(b){var e,a,f,d,c;e=b.dom.cloneNode(true);e.id=b.id+\"-proxy\";b.getParent().dom.appendChild(e);e=Ext.get(e);a=b.getX();f=b.getY();d=b.getLeft();c=b.getWidth();e.setStyle(\"position\",\"absolute\");e.setX(a);e.setY(f);e.setHeight(b.getHeight());e.setWidth(c);return{x:a,y:f,left:d,width:c,ghost:e}}});Ext.define(\"Ext.navigation.",377309,52,"NavigationView\",xtype:\"navigationview\"",290528,36,"navigationview\",navigationBar:{docked:\"top\"},defaultBackButtonText:\"Back\",useTitleForBackButtonText:false",513915,32,"duration:300,easing:\"ease-out\",type:\"slide\",direction:\"left\"}}",514222,40,"navigationBar:{splitNavigation:true}}],initialize:function(){var b=this,a=b.getNavigationBar();if(a){a.on({back:b.onBackButtonTap,scope:b});b.relayEvents(a,\"rightbuttontap\");b.relayEvents(b,{add:\"push\",remove:\"pop\"})}},applyLayout:function(a){a=a||{};return a},onBackButtonTap:function(){this.pop();this.fireEvent(\"back\",this)},push:function(a){return this.add(a)},pop:function(a){if(this.beforePop(a)){return this.doPop()}},beforePop:function(f){var e=this,g=e.getInnerItems();",250578,37,"var d=g.length-1,a;for(a=d;a>=0;a--){if((Ext.isString(f)&&Ext.ComponentQuery.is(g[a],f))||(Ext.isObject(f)&&f==g[a])){f=d-a;break}}if(!Ext.isNumber(f)){return false}}var c=g.length,b;if(!Ext.isNumber(f)||f<1){f=1}f=Math.min(f,c-1);if(f){e.getNavigationBar().beforePop(f);b=g.splice(-f,f-1);for(a=0;a<b.length;a++){this.remove(b[a])}return true}return false},doPop:function(){var b=this,c=this.getInnerItems();b.remove(c[c.length-1]);if(c.length<3&&this.$backButton){this.$backButton.hide()}if(this.$titleContainer){var a=c[c.length-2];this.$titleContainer.setTitle((a.getTitle)?a.getTitle():a.config.title)}return this.getActiveItem()},getPreviousItem:function(){var a=this.getInnerItems();return a[a.length-2]},updateUseTitleForBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setUseTitleForBackButtonText(b)}},updateDefaultBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setDefaultBackButtonText(b)}},applyNavigationBar:function(a){if(!a){a={hidden:true,docked:\"top\"}}if(a.title){delete a.title}a.view=this;a.useTitleForBackButtonText=this.getUseTitleForBackButtonText();if(a.splitNavigation){this.$titleContainer=this.add({docked:\"top\",xtype:\"titlebar\",ui:\"light\",title:this.$currentTitle||\"\"});var b=(a.splitNavigation===true)?{}:a.splitNavigation;this.$backButtonContainer=this.add(Ext.apply({xtype:\"toolbar\",docked:\"bottom\"},b));this.$backButton=this.$backButtonContainer.add({xtype:\"button\",text:\"Back\",hidden:true,ui:\"back\"});this.$backButton.on({scope:this,tap:this.onBackButtonTap});a={hidden:true,docked:\"top\"}}return Ext.factory(a,Ext.navigation.Bar,this.getNavigationBar())},updateNavigationBar:function(a,b){if(b){this.remove(b,true)}if(a){this.add(a)}",259979,36,"b=this,c=b.getInnerItems();b.getItems();if(!b.initialized){d=c.length-1}return this.callParent([d,a])},doResetActiveItem:function(d){var a=this,c=a.getInnerItems(),b=a.getLayout().getAnimation();if(d>0){if(b&&b.isAnimation){b.setReverse(true)}a.setActiveItem(d-1);a.getNavigationBar().onViewRemove(a,c[d],d)}},doRemov",196335,35,".getAnimation();if(a&&a.isAnimation){a.setReverse",451965,36,"onItemAdd:function(b,a){if(b&&b.getDocked()&&b.config.title===true){this.$titleContainer=b}this.doItemLayoutAdd(b,a);var c=this.getInitialConfig().navigationBar;if(!this.isItemsInitializing&&b.isInnerItem()){this.setActiveItem(b);if(c){this.getNavigationBar().onViewAdd(this,b,a)}if(this.$backButtonContainer){this.$backButton.show()}}if(b&&b.isInnerItem()){this.updateTitleContainerTitle((b.getTitle)?b.getTitle():b.config.title)}",258873,54,"updateTitleContainerTitle:function(a){if(this.$titleContainer){this.$titleContainer.setTitle(a)}else{this.$currentTitle=a}},reset:function(){return this.pop(this.getInnerItems().length",512028,26596,"Start\",{extend:Ext.navigation.View,xtype:\"startview\",config:{title:\"PEGEL-Info\",iconCls:\"search\",xtype:\"navigationview\",id:\"myNavigationView\",items:[{title:\"Pegel Info\",padding:10,layout:\"vbox\",items:[",539028,74,"flex:1",539101,44,"Level Heidelberg 8 latest values\",item:\"id1\"},{name:\"Level Heidelberg last 8 days (loading 2 minutes)\",item:\"id4\"},{name:\"Stations Rhein near Mannheim\",item:\"id3",539690,33,"blue",539726,35,"<em>{item}</em>',listeners:{itemtap:function(f,c,h,b,g,d){var i=b.raw.item;var a=Ext.getCmp(\"myNavigationView\");if(i==\"id1\"){a.push({xclass:\"AndiApp2.view.PegelHd\"})}else{if(i==\"id3\"){a.push({xclass:\"AndiApp2.view.PegelRhein\"})}else{if(i==\"id4\"){a.push({xclass:\"AndiApp2.view.PegelAlle\"})}else{alert(\"Kenn ich nicht!\")}}}}}}]}],",538594,186,"[",538780,38,"PEGEL-APP\"},{style:\"text-align: center\",html:['<img height=260 src=\"resources/icons/neckar1.jpg\" />',\"<h1>Welcome to PegelApp</h1>\",\"<p>Created with Sencha Touch</p>\",\"<p>by Andreas Becker</p>\",\"<p>Datasource <em><b>www.pegelonline.wsv.de</b></em></p>\",\"<p>Restful-API</p>\",\"<h3>Iversity WebEngineering 2</h3>\",\"<p>2014</p>\"].join(\"\")}]},{xclass:\"AndiApp2.view.Start\"",539782,123,"neckar1",539992,77,"neckar",539991,78,"neckar3.jpg\" />',}]},{title:\"Info\",iconCls:\"info",538734,46,"[",538780,38,"PEGEL-APP INFO\"},{style:\"color: blue; line-height: 0.5\",html:[\"<h2>This is PegelApp</h2>\",\"<br>\",\"<br>\",\"<p>Created using: <b>Sencha Touch</b> and the</p>\",\"<p>Restful-API <em><b>www.pegelonline.wsv.de</b></em></p>\",\"<br>\",\"<br>\",\"<p>Created by: <b>Andreas Becker</b></p>\",\"<p>Contact: <b>andreas.v.becker@web.de</b></p>\",\"<br>\",\"<br>\",\"<p>Final homework for Iversity WebEngineering II\",\"<p>May 2014</p>\"].join(\"\")}]},]}});Ext.define(\"AndiApp2.view.PegelHd\",{extend:Ext.Container,xtype:\"pegelhdView\",config:{title:\"Pegel HD\",layout:\"vbox\",items:[{xtype:\"list\",flex:1,store:{storeId:\"jsonstore1\",fields:[\"timestamp\",\"value\",\"datum\"],},itemTpl:\"{datum}  Uhr:      {value} cm\"},{docked:\"bottom\",style:\"border-top: 3px solid black\",html:'<div><img src=\"http://www.pegelonline.wsv.de/webservices/rest-api/v2/stations/HEIDELBERG%20UP/W/measurements.png?start=P1D&width=900&height=200\" style=\"width:100%; height: auto\" /></div>'}]},show",467551,39,"Ext.Ajax.request({url:\"http://www.pegelonline.wsv.de/webservices/rest-api/v2/stations/HEIDELBERG%20UP/W/measurements.json?start=P1D\",useDefaultXhrHeader:false,success:function(d,f){var a=JSON.parse(d.responseText);var c=Ext.getStore(\"jsonstore1\");c.clearData();for(var e=0;e<a.length;e++){var b=new Date(a[e].timestamp);if(b.getMinutes()==0){a[e].datum=b.getDate()+\".\"+b.getMonth()+\".\"+b.getFullYear()+\"  \"+b.getHours();c.addData(a[e])}}c.sync()}})}});Ext.define(\"AndiApp2.view.PegelRhein\",{extend:Ext.Container,xtype:\"pegelrheinView\",config:{title:\"Stations Rhine\",layout:\"vbox\",items:[{xtype:\"list\",flex:1,store:{storeId:\"jsonstore1\",fields:[\"shortname\",\"km\"],},itemTpl:\"{shortname} Ort:  {km} Rhein-KM\"}]},show",467551,39,"Ext.Ajax.request({url:\"http://www.pegelonline.wsv.de/webservices/rest-api/v2/stations.json?waters=RHEIN&km=424&radius=100\",useDefaultXhrHeader:false,success:function(c,e){var a=JSON.parse(c.responseText);var b=Ext.getStore(\"jsonstore1\");b.clearData();for(var d=0;d<a.length;d++){b.addData(a[d])}b.sync()}})}});Ext.define(\"AndiApp2.view.PegelAlle\",{extend:Ext.Container,xtype:\"pegelAlleView\",config:{title:\"Pegel HD last 8 days\",layout:\"vbox\",items:[{xtype:\"list\",flex:1,store:{storeId:\"jsonstore1\",fields:[\"timestamp\",\"value\",\"datum\"],},itemTpl:\"{datum} Uhr:  {value} cm\"},{docked:\"bottom\",style:\"border-top: 3px solid black\",html:'<div><img src=\"http://www.pegelonline.wsv.de/webservices/rest-api/v2/stations/HEIDELBERG%20UP/W/measurements.png?start=P10D&width=900&height=200\" style=\"width:100%; height: auto\" /></div>'}]},show",467551,39,"Ext.Ajax.request({url:\"http://www.pegelonline.wsv.de/webservices/rest-api/v2/stations/HEIDELBERG%20UP/W/measurements.json?start=P8D\",useDefaultXhrHeader:false,success:function(d,f){var a=JSON.parse(d.responseText);var c=Ext.getStore(\"jsonstore1\");c.clearData();for(var e=0;e<a.length;e++){var b=new Date(a[e].timestamp);if(b.getMinutes()==0){a[e].datum=b.getDate()+\".\"+b.getMonth()+\".\"+b.getFullYear()+\"  \"+b.getHours();c.addData(a[e])}}c.sync()}})",540088,50,",\"PegelHd\",\"PegelRhein\",\"PegelAlle\",\"Start",540137,773]